{"version":3,"sources":["webpack:///./src/components/Login.vue?4ead","webpack:///./src/utils/tokenUtils.js","webpack:///./src/assets/imgs/bg03.jpg","webpack:///./src/assets/imgs/bg00.jpg","webpack:///./src/assets/imgs/bg06.jpg","webpack:///./src/assets/imgs/bg04.jpg","webpack:///./src/assets/imgs sync ^\\.\\/bg0.*\\.jpg$","webpack:///./src/utils/service.js","webpack:///./src/utils/request.js","webpack:///./src/api/pjm_module.js","webpack:///./src/components/Login.vue?17e1","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?3819","webpack:///./src/components/Login.vue","webpack:///./src/assets/imgs/bg01.jpg","webpack:///./src/assets/imgs/bg02.jpg","webpack:///./src/assets/imgs/bg05.jpg"],"names":["name","setToken","token","localStorage","setItem","getToken","getItem","undefined","length","setUsername","username","getUsername","module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","callService","url","params","htmlname","baseUrl","tokenUtil","data","JSON","stringify","config","method","headers","axios","then","response","console","log","res","Message","message","msg","type","duration","Promise","reject","catch","error","_error","service","create","baseURL","timeout","interceptors","request","use","MessageBox","confirm","confirmButtonText","cancelButtonText","store","dispatch","location","reload","login","pjmapi","param","pjmapi4g","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","_v","attrs","on","verifyAccount","model","value","callback","$$v","account","expression","_s","accountError","verifyPwd","pwd","pwdError","isShowLoading","submit","register","forgetPwd","staticRenderFns","component"],"mappings":"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","file":"js/chunk-273bd3af.63316897.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=css&\"","export default {\r\n    name: 'tokenUtil',\r\n    setToken(token) {\r\n        localStorage.setItem(\"Authorization\", token)\r\n    },\r\n    getToken() {\r\n        var token = localStorage.getItem(\"Authorization\")\r\n        if (token == undefined || token.length == 0) {\r\n            return ''\r\n        }\r\n        return token\r\n    },\r\n    setUsername(username) {\r\n        localStorage.setItem(\"username\", username)\r\n    },\r\n    getUsername() {\r\n        var username = localStorage.getItem(\"username\")\r\n        if (username == undefined || username.length == 0) {\r\n            return ''\r\n        }\r\n        return username\r\n    }\r\n\r\n}\n","module.exports = __webpack_public_path__ + \"img/bg03.93edc1b5.jpg\";","module.exports = __webpack_public_path__ + \"img/bg00.3335388f.jpg\";","module.exports = __webpack_public_path__ + \"img/bg06.19ecc464.jpg\";","module.exports = __webpack_public_path__ + \"img/bg04.dff7ddf2.jpg\";","var map = {\n\t\"./bg00.jpg\": \"0f18\",\n\t\"./bg01.jpg\": \"695e\",\n\t\"./bg02.jpg\": \"8539\",\n\t\"./bg03.jpg\": \"0a36\",\n\t\"./bg04.jpg\": \"1cda\",\n\t\"./bg05.jpg\": \"8bb6\",\n\t\"./bg06.jpg\": \"1064\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"40ec\";","import axios from 'axios'\r\nimport {\r\n    Message\r\n} from 'element-ui'\r\nimport tokenUtil from './tokenUtils.js'\r\n\r\nexport function callService(url, params, htmlname) {\r\n    let baseUrl = 'http://47.94.233.146:1220/'\r\n    if (tokenUtil.getToken() || tokenUtil.getUsername() || url == \"pjm-service-user/user/login\") {\r\n        const data = JSON.stringify(params)\r\n        const config = {\r\n            url: baseUrl + url,\r\n            // timeout: 5000,\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': tokenUtil.getToken(),\r\n                'username': tokenUtil.getUsername(),\r\n                'htmlname': htmlname\r\n            },\r\n            data\r\n        }\r\n        return axios(config).then(response => {\r\n            console.log(response)\r\n            const res = response.data\r\n            console.log(\"service.js\")\r\n            if (res && (res.code === 0 || res.code === '0')) {\r\n                // alert(\"codesuccess\")\r\n                return res\r\n            } else {\r\n                // if (res.data) {\r\n                //     // alert(\"datasuccess\")\r\n                //     return Promise.reject(res)\r\n                // } else {\r\n                //     // console.log((res && res.msg) ? res.msg : '')\r\n                //     return Promise.reject((res && res.msg) ? res.msg : '')\r\n                // }\r\n                Message({\r\n                    message: response.msg,\r\n                    type: 'error',\r\n                    duration: 5 * 1000\r\n                })\r\n                return Promise.reject(response.msg)\r\n            }\r\n        }).catch(function(error) {\r\n            console.log(error)\r\n            if (error) {\r\n                const _error = error\r\n                if (!error.data) {\r\n                    Message({\r\n                        message: _error,\r\n                        type: 'error',\r\n                        duration: 3 * 1000\r\n                    })\r\n                }\r\n                return Promise.reject(_error)\r\n            } else {\r\n                Message({\r\n                    message: '服务有问题, 请联系管理员~',\r\n                    type: 'error',\r\n                    duration: 5 * 1000\r\n                })\r\n                return Promise.reject('服务有问题, 请联系管理员~')\r\n            }\r\n        })\r\n    } else {\r\n        Message({\r\n            message: '登录过期了',\r\n            type: 'error',\r\n            duration: 5 * 1000\r\n        })\r\n        return Promise.reject('登录过期了')\r\n    }\r\n}\n","import axios from 'axios'\r\nimport {\r\n    Message,\r\n    MessageBox\r\n} from 'element-ui'\r\nimport store from '@/store'\r\nimport tokenUtil from './tokenUtils.js'\r\n\r\n// create an axios instance\r\nconst service = axios.create({\r\n    baseURL: 'http://47.94.233.146:1220/', // url = base url + request url\r\n    // withCredentials: true, // send cookies when cross-domain requests\r\n    timeout: 50000 // request timeout\r\n})\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(\r\n    config => {\r\n        // do something before request is sent\r\n\r\n        if (tokenUtil.getToken()) {\r\n            // let each request carry token\r\n            // ['X-Token'] is a custom headers key\r\n            // please modify it according to the actual situation\r\n            config.headers['Authorization'] = tokenUtil.getToken()\r\n            config.headers['username'] = tokenUtil.getUsername()\r\n        }\r\n        return config\r\n    },\r\n    error => {\r\n        // do something with request error\r\n        console.log(error) // for debug\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\n// response interceptor\r\nservice.interceptors.response.use(\r\n    /**\r\n     * If you want to get http information such as headers or status\r\n     * Please return  response => response\r\n     */\r\n\r\n    /**\r\n     * Determine the request status by custom code\r\n     * Here is just an example\r\n     * You can also judge the status by HTTP Status Code\r\n     */\r\n    response => {\r\n\r\n        const res = response.data\r\n        if (res.code == '0' || res.code == 200) {\r\n            console.log('requesetsuccess-----', res)\r\n            return res\r\n        } else {\r\n            if (res.code === '403') {\r\n                // to re-login\r\n                MessageBox.confirm('你的登陆已经过期，请重新登陆！', '重新登陆', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    store.dispatch('login').then(() => {\r\n                        location.reload()\r\n                    })\r\n                })\r\n            } else {\r\n                // 其它错误弹出错误信息\r\n                Message({\r\n                    message: res.msg || 'Error',\r\n                    type: 'error',\r\n                    duration: 5 * 1000\r\n                })\r\n            }\r\n            console.log('requeset-----', res)\r\n            return Promise.reject(new Error(res.msg || 'Error'))\r\n        }\r\n    },\r\n    error => {\r\n        console.log('err' + error) // for debug\r\n        Message({\r\n            message: error.msg || 'Error',\r\n            type: 'error',\r\n            duration: 5 * 1000\r\n        })\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\nexport default service\n","import * as service from '../utils/service.js'\r\nimport request from '../utils/request.js'\n\r\nexport default {\r\n    name: 'pjmapi',\r\n    login(params, htmlname) {\r\n        return service.callService('/user/login', params, htmlname)\r\n    },\r\n    pjmapi(param, url, htmlname) {\r\n        let res = request({\r\n            url,\r\n            method: 'post',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'htmlname':htmlname\r\n            },\r\n            data: JSON.stringify(param),\r\n        })\r\n        return res\r\n    },\n    pjmapi4g(url, htmlname) {\n        let res = request({\n            url,\n            method: 'get',\n            headers: {\n                'Content-Type': 'application/json',\n                'htmlname':htmlname\n            }\n        })\n        return res\n    },\r\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-vue\",style:(_vm.bg)},[_c('div',{staticClass:\"container\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"WELCOME\")]),_c('div',{staticClass:\"input-c\"},[_c('Input',{attrs:{\"prefix\":\"ios-contact\",\"placeholder\":\"用户名\",\"clearable\":\"\"},on:{\"on-blur\":_vm.verifyAccount},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}}),_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.accountError))])],1),_c('div',{staticClass:\"input-c\"},[_c('Input',{attrs:{\"type\":\"password\",\"prefix\":\"md-lock\",\"placeholder\":\"密码\",\"clearable\":\"\"},on:{\"on-blur\":_vm.verifyPwd},model:{value:(_vm.pwd),callback:function ($$v) {_vm.pwd=$$v},expression:\"pwd\"}}),_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.pwdError))])],1),_c('Button',{staticClass:\"submit\",attrs:{\"loading\":_vm.isShowLoading,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"登陆\")]),_c('p',{staticClass:\"account\"},[_c('span',{on:{\"click\":_vm.register}},[_vm._v(\"注册账号\")]),_vm._v(\" | \"),_c('span',{on:{\"click\":_vm.forgetPwd}},[_vm._v(\"忘记密码\")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login-vue\" :style=\"bg\">\r\n        <div class=\"container\">\r\n            <p class=\"title\">WELCOME</p>\r\n            <div class=\"input-c\">\r\n                <Input v-model=\"account\" prefix=\"ios-contact\" placeholder=\"用户名\" clearable @on-blur=\"verifyAccount\" />\r\n                <p class=\"error\">{{ accountError }}</p>\r\n            </div>\r\n            <div class=\"input-c\">\r\n                <Input v-model=\"pwd\" type=\"password\" prefix=\"md-lock\" placeholder=\"密码\" clearable @on-blur=\"verifyPwd\" />\r\n                <p class=\"error\">{{ pwdError }}</p>\r\n            </div>\r\n            <Button :loading=\"isShowLoading\" class=\"submit\" type=\"primary\" @click=\"submit\">登陆</Button>\r\n            <p class=\"account\">\r\n                <span @click=\"register\">注册账号</span>\r\n                |\r\n                <span @click=\"forgetPwd\">忘记密码</span>\r\n            </p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport tokenUtil from '../utils/tokenUtils.js';\r\nimport pjmapi from '../api/pjm_module.js';\r\nimport createRoutes from '@/utils/createRoutes';\r\nimport router from '../router/index.js';\r\nexport default {\r\n    name: 'Login',\r\n    data() {\r\n        return {\r\n            account: '',\r\n            pwd: '',\r\n            accountError: '',\r\n            pwdError: '',\r\n            isShowLoading: false,\r\n            bg: {}\r\n        };\r\n    },\r\n    watch: {\r\n        $route: {\r\n            handler(route) {\r\n                this.redirect = route.query && route.query.redirect;\r\n            },\r\n            immediate: true\r\n        }\r\n    },\r\n    created() {\r\n        this.bg.backgroundImage = 'url(' + require('../assets/imgs/bg0' + new Date().getDay() + '.jpg') + ')';\r\n    },\r\n    methods: {\r\n        verifyAccount() {\r\n            if (this.account == '') {\r\n                this.accountError = '请输入账号';\r\n            } else {\r\n                this.accountError = '';\r\n            }\r\n        },\r\n        verifyPwd() {\r\n            if (this.pwd == '') {\r\n                this.pwdError = '请输入密码';\r\n            } else {\r\n                this.pwdError = '';\r\n            }\r\n        },\r\n        register() {},\r\n        forgetPwd() {},\r\n        submit() {\r\n            // alert(\"success\")\r\n            var param = {\r\n                userAccount: this.account,\r\n                userPassword: this.pwd\r\n            };\r\n            pjmapi.pjmapi(param, 'pjm-service-user/user/login', 'login').then(res => {\r\n                if (res.code == '200') {\r\n                    this.isShowLoading = true;\r\n                    // 登陆成功 设置用户信息\r\n                    localStorage.setItem('userImg', 'http://39.105.78.171:1250' + res.data.userHeader);\r\n                    localStorage.setItem('userName', res.data.userName);\r\n                    localStorage.setItem('Authorization', res.data.token);\r\n                    // 登陆成功 假设这里是后台返回的 token\r\n                    tokenUtil.setToken(res.msg);\r\n                    tokenUtil.setUsername(res.data.userAccount);\r\n                    pjmapi.pjmapi({}, 'pjm-service-user/user/init', 'login').then(info => {\r\n                        \n                        this.$store.commit('setUserName', info.data.userName);\n                        this.$store.commit(\"setPermissionList\",info.data.permissionList)\n                        this.$store.commit(\"setRoleList\",info.data.roleList)\n                        this.$store.commit(\"setUserInfo\",info.data)\r\n                        console.log('准备进入主页');\r\n                        this.$router.push({ path: '/' });\r\n                    });\r\n                } else {\r\n                    this.$notify({\r\n                        message: res.msg\r\n                    });\r\n                    return;\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.login-vue {\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    color: #fff;\r\n}\r\n.login-vue .container {\r\n    background: rgba(255, 255, 255, 0.5);\r\n    width: 300px;\r\n    text-align: center;\r\n    border-radius: 10px;\r\n    padding: 30px;\r\n}\r\n.login-vue .ivu-input {\r\n    background-color: transparent;\r\n    color: #fff;\r\n    outline: #fff;\r\n    border-color: #fff;\r\n}\r\n.login-vue ::-webkit-input-placeholder {\r\n    /* WebKit, Blink, Edge */\r\n    color: rgba(255, 255, 255, 0.8);\r\n}\r\n.login-vue :-moz-placeholder {\r\n    /* Mozilla Firefox 4 to 18 */\r\n    color: rgba(255, 255, 255, 0.8);\r\n}\r\n.login-vue ::-moz-placeholder {\r\n    /* Mozilla Firefox 19+ */\r\n    color: rgba(255, 255, 255, 0.8);\r\n}\r\n.login-vue :-ms-input-placeholder {\r\n    /* Internet Explorer 10-11 */\r\n    color: rgba(255, 255, 255, 0.8);\r\n}\r\n.login-vue .title {\r\n    font-size: 16px;\r\n    margin-bottom: 20px;\r\n}\r\n.login-vue .input-c {\r\n    margin: auto;\r\n    width: 200px;\r\n}\r\n.login-vue .error {\r\n    color: red;\r\n    text-align: left;\r\n    margin: 5px auto;\r\n    font-size: 12px;\r\n    padding-left: 30px;\r\n    height: 20px;\r\n}\r\n.login-vue .submit {\r\n    width: 200px;\r\n}\r\n.login-vue .account {\r\n    margin-top: 30px;\r\n}\r\n.login-vue .account span {\r\n    cursor: pointer;\r\n}\r\n.login-vue .ivu-icon {\r\n    color: #eee;\r\n}\r\n.login-vue .ivu-icon-ios-close-circle {\r\n    color: #777;\r\n}\r\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=9e4269d0&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/bg01.d86eb1d6.jpg\";","module.exports = __webpack_public_path__ + \"img/bg02.075e05b6.jpg\";","module.exports = __webpack_public_path__ + \"img/bg05.a951ce20.jpg\";"],"sourceRoot":""}