(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aac8f6b"],{"094b":function(e,t,r){"use strict";t["a"]={name:"tokenUtil",setToken:function(e){localStorage.setItem("Authorization",e)},getToken:function(){var e=localStorage.getItem("Authorization");return void 0==e||0==e.length?"":e},setUsername:function(e){localStorage.setItem("username",e)},getUsername:function(){var e=localStorage.getItem("username");return void 0==e||0==e.length?"":e}}},"28e8":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("el-button",{on:{click:e.request}},[e._v("request")]),r("el-button",{on:{click:e.getUserName}},[e._v("getusername")]),r("el-button",[e._v("12121")]),r("Button",[e._v("121212")]),r("div",[e._v(e._s(e.requestresult))]),r("div",[e._v(e._s(e.UserName))])],1)},o=[],s=r("56b8"),a={name:"hello",data:function(){return{UserName:"",requestresult:""}},created:function(){console.log(this.$router)},methods:{getUserName:function(){this.UserName=this.$store.getters.getUserName},request:function(){var e=this,t={id:"1"};s["a"].pjmapi(t,"member/details","hello").then((function(t){console.log(t),e.requestresult=t.data.memberName}))}}},i=a,u=r("2877"),c=Object(u["a"])(i,n,o,!1,null,null,null);t["default"]=c.exports},"56b8":function(e,t,r){"use strict";r("d3b7");var n=r("bc3a"),o=r.n(n),s=r("5c96"),a=r("094b");function i(e,t,r){var n="http://47.94.233.146:1220/";if(a["a"].getToken()||a["a"].getUsername()||"pjm-service-user/user/login"==e){var i=JSON.stringify(t),u={url:n+e,method:"post",headers:{"Content-Type":"application/json",Authorization:a["a"].getToken(),username:a["a"].getUsername(),htmlname:r},data:i};return o()(u).then((function(e){console.log(e);var t=e.data;return console.log("service.js"),!t||0!==t.code&&"0"!==t.code?(Object(s["Message"])({message:e.msg,type:"error",duration:5e3}),Promise.reject(e.msg)):t})).catch((function(e){if(console.log(e),e){var t=e;return e.data||Object(s["Message"])({message:t,type:"error",duration:3e3}),Promise.reject(t)}return Object(s["Message"])({message:"服务有问题, 请联系管理员~",type:"error",duration:5e3}),Promise.reject("服务有问题, 请联系管理员~")}))}return Object(s["Message"])({message:"登录过期了",type:"error",duration:5e3}),Promise.reject("登录过期了")}var u=r("4360"),c=o.a.create({baseURL:"http://47.94.233.146:1220/",timeout:5e4});c.interceptors.request.use((function(e){return a["a"].getToken()&&(e.headers["Authorization"]=a["a"].getToken(),e.headers["username"]=a["a"].getUsername()),e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return"0"==t.code||200==t.code?(console.log("requesetsuccess-----",t),t):("403"===t.code?s["MessageBox"].confirm("你的登陆已经过期，请重新登陆！","重新登陆",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u["a"].dispatch("login").then((function(){location.reload()}))})):Object(s["Message"])({message:t.msg||"Error",type:"error",duration:5e3}),console.log("requeset-----",t),Promise.reject(new Error(t.msg||"Error")))}),(function(e){return console.log("err"+e),Object(s["Message"])({message:e.msg||"Error",type:"error",duration:5e3}),Promise.reject(e)}));var l=c;t["a"]={name:"pjmapi",login:function(e,t){return i("/user/login",e,t)},pjmapi:function(e,t,r){var n=l({url:t,method:"post",headers:{"Content-Type":"application/json",htmlname:r},data:JSON.stringify(e)});return n},pjmapi4g:function(e,t){var r=l({url:e,method:"get",headers:{"Content-Type":"application/json",htmlname:t}});return r}}}}]);
//# sourceMappingURL=chunk-7aac8f6b.fe5a5684.js.map